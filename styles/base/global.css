/* Base typography defaults */
html, body {
    font-family: 'General Sans Variable', 'General Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-synthesis: none; /* Prevent Safari from faking bold/italic */
    font-optical-sizing: auto; /* Respect variable font optical sizing */
    -webkit-text-size-adjust: 100%; /* Avoid unexpected size/weight changes */
}

/* Mobile scroll hygiene: favor vertical scroll, avoid child elements trapping touches */
html, body, #smooth-wrapper, #smooth-content {
    touch-action: pan-y;
}

/* Prevent decorative overlays from intercepting taps/scrolls */
.gradients-bg,
.svg-filters,
.section .svg-lines-container {
    pointer-events: none;
}

/* Allow quick taps while keeping vertical scroll natural on form controls */
input, textarea, select, [contenteditable] {
    touch-action: manipulation;
}

/* Animated Morphing Gradients Background */
.gradients-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    z-index: -1;
    overflow: hidden;
}

.gradients-bg::before {
    content: '';
    position: absolute;
    top: 30%;
    left: 25%;
    width: 600px;
    height: 600px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255, 123, 202, 0.4) 0%, rgba(255, 153, 0, 0.1) 50%, transparent 70%);
    animation: morph1 25s ease-in-out infinite;
    filter: blur(40px);
}

.gradients-bg::after {
    content: '';
    position: absolute;
    top: 70%;
    left: 75%;
    width: 500px;
    height: 500px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255, 123, 202, 0.4) 0% , rgba(255, 123, 202, 0.4)  20%, transparent 70%);
    animation: morph2 30s ease-in-out infinite;
    filter: blur(40px);
}

/* Third gradient layer */
.gradient-layer-3 {
    position: absolute;
    top: 20%;
    left: 70%;
    width: 700px;
    height: 700px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(224, 146, 29, 0.397) 0%, rgba(255, 197, 111, 0.2) 50%, transparent 70%);
    animation: morph3 35s ease-in-out infinite;
    filter: blur(40px);
    transform: translate(-50%, -50%);
}

/* Fourth gradient layer */
.gradient-layer-4 {
    position: absolute;
    top: 80%;
    left: 20%;
    width: 450px;
    height: 450px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255, 118, 184, 0.586) 0%, rgba(251, 146, 60, 0.425) 50%, transparent 70%);
    animation: morph4 28s ease-in-out infinite;
    filter: blur(40px);
    transform: translate(-50%, -50%);
}

/* Fifth gradient layer */
.gradient-layer-5 {
    position: absolute;
    top: 50%;
    left: 10%;
    width: 550px;
    height: 550px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(251, 146, 60, 0.2) 0%, rgba(255, 197, 111, 0.2) 50%, transparent 70%);
    animation: morph5 32s ease-in-out infinite;
    filter: blur(40px);
    transform: translate(-50%, -50%);
}

@keyframes morph1 {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
        opacity: 0.8;
    }
    33% {
        transform: translate(-30%, -70%) scale(1.3) rotate(120deg);
        opacity: 0.6;
    }
    66% {
        transform: translate(-70%, -30%) scale(0.7) rotate(240deg);
        opacity: 1;
    }
}

@keyframes morph2 {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
        opacity: 0.6;
    }
    33% {
        transform: translate(-70%, -30%) scale(1.2) rotate(120deg);
        opacity: 0.8;
    }
    66% {
        transform: translate(-30%, -70%) scale(0.8) rotate(240deg);
        opacity: 0.4;
    }
}

@keyframes morph3 {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
        opacity: 0.4;
    }
    25% {
        transform: translate(-20%, -80%) scale(1.4) rotate(90deg);
        opacity: 0.6;
    }
    50% {
        transform: translate(-80%, -20%) scale(0.6) rotate(180deg);
        opacity: 0.3;
    }
    75% {
        transform: translate(-20%, -20%) scale(1.1) rotate(270deg);
        opacity: 0.7;
    }
}

@keyframes morph4 {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
        opacity: 0.3;
    }
    33% {
        transform: translate(-30%, -60%) scale(1.3) rotate(120deg);
        opacity: 0.5;
    }
    66% {
        transform: translate(-60%, -30%) scale(0.7) rotate(240deg);
        opacity: 0.2;
    }
}

@keyframes morph5 {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
        opacity: 0.4;
    }
    20% {
        transform: translate(-40%, -70%) scale(1.2) rotate(72deg);
        opacity: 0.6;
    }
    40% {
        transform: translate(-70%, -40%) scale(0.8) rotate(144deg);
        opacity: 0.3;
    }
    60% {
        transform: translate(-40%, -40%) scale(1.1) rotate(216deg);
        opacity: 0.5;
    }
    80% {
        transform: translate(-70%, -70%) scale(0.9) rotate(288deg);
        opacity: 0.4;
    }
}

/* Three.js Container */
#three-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    z-index: 100; /* Higher z-index to be visible but behind UI controls */
    pointer-events: none; /* Make canvas invisible to mouse events - canonical solution */
}

/* Three.js Canvas */
#three-canvas {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: contain;
    opacity: 0; /* Will fade in when model is ready */
}

/* Content Container for ScrollSmoother */
#smooth-wrapper {
    height: 100vh;
    overflow-y: auto;
    position: relative;
    z-index: 50;
}

#smooth-content {
    position: relative;
    z-index: 50; /* Lower z-index to be behind canvas but above background */
    pointer-events: auto; /* Ensure content is clickable */
    height: auto;
    min-height: 100vh;
}

/* Prep state to disable transitions and keep text hidden until layout is ready */
html.is-prep .hero,
html.is-prep .hero-text,
html.is-prep .hero-actions {
    transition: none !important;
}
html.is-prep .hero-text {
    opacity: 0;
}

/* SVG Filters for Distortion Effect */
.svg-filters {
    position: absolute;
    width: 0;
    height: 0;
    overflow: hidden;
}

/* =============================================================
   Larger gradient scales for big breakpoints
   Matches JS: desktop_hd (1201–1600), desktop_xl (1601–2000), desktop_2xl (2001+)
   ============================================================= */

/* desktop_hd (1201–1600px) */
@media (min-width: 1201px) and (max-width: 1600px) {
  .gradients-bg::before { width: 840px; height: 840px; }
  .gradients-bg::after  { width: 700px; height: 700px; }
  .gradient-layer-3      { width: 980px; height: 980px; }
  .gradient-layer-4      { width: 630px; height: 630px; }
  .gradient-layer-5      { width: 770px; height: 770px; }
}

/* desktop_xl (1601–2000px) */
@media (min-width: 1601px) and (max-width: 2000px) {
  .gradients-bg::before { width: 1080px; height: 1080px; }
  .gradients-bg::after  { width: 900px; height: 900px; }
  .gradient-layer-3      { width: 1260px; height: 1260px; }
  .gradient-layer-4      { width: 810px; height: 810px; }
  .gradient-layer-5      { width: 990px; height: 990px; }
}

/* desktop_2xl (2001px+) */
@media (min-width: 2001px) {
  .gradients-bg::before { width: 1320px; height: 1320px; }
  .gradients-bg::after  { width: 1100px; height: 1100px; }
  .gradient-layer-3      { width: 1540px; height: 1540px; }
  .gradient-layer-4      { width: 990px; height: 990px; }
  .gradient-layer-5      { width: 1210px; height: 1210px; }
}
